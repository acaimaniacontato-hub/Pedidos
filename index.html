<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A√ßa√≠ Mania - Premium Delivery</title>
    <style>
        :root { 
            --bg-dark: #1a0521; 
            --card-bg: #2d0b37;
            --roxo-vibrante: #9d34da;
            --texto: #f4e9f7;
            --verde-whats: #25d366; 
            --dourado: #ffcf4b; 
            --azul-pix: #40a0ff;
        }
        
        body { 
            font-family: 'Segoe UI', Roboto, sans-serif; 
            background-color: var(--bg-dark); 
            color: var(--texto);
            margin: 0; padding: 0; padding-bottom: 80px; 
        }
        
        header { 
            background: linear-gradient(180deg, #3e0e4d 0%, var(--bg-dark) 100%);
            padding: 30px 20px; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo-img { width: 110px; height: 110px; border-radius: 50%; border: 3px solid var(--roxo-vibrante); margin-bottom: 10px; object-fit: cover; box-shadow: 0 0 20px rgba(157, 52, 218, 0.4); }
        .frase-biblica { font-style: italic; font-size: 0.85rem; color: var(--roxo-vibrante); margin-top: 5px; font-weight: 500; }
        
        .fidelidade-card { 
            background: linear-gradient(45deg, #b8860b, #ffd700); 
            color: #1a0521; padding: 15px; border-radius: 12px; 
            margin: -20px auto 20px; max-width: 90%; text-align: center; font-weight: 800; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.3); border: 2px solid rgba(255,255,255,0.3);
            text-transform: uppercase; letter-spacing: 1px;
        }
        
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        
        .card-secao { 
            background: var(--card-bg); padding: 20px; border-radius: 18px; 
            margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        h2 { color: var(--dourado); font-size: 1.1rem; margin-top: 0; display: flex; align-items: center; gap: 10px; }
        
        label { display: block; margin-top: 15px; font-weight: 600; font-size: 0.85rem; color: #ccc; }
        
        input, select, textarea { 
            width: 100%; padding: 14px; margin-top: 8px; 
            border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; 
            font-size: 16px; box-sizing: border-box; 
            background: rgba(0,0,0,0.2); color: white;
        }
        
        input:focus, select:focus { border-color: var(--roxo-vibrante); outline: none; }

        /* BOX PIX GOURMET */
        .box-pix {
            background: rgba(64, 160, 255, 0.1);
            border: 2px solid var(--azul-pix);
            padding: 20px; border-radius: 15px; margin-top: 15px; text-align: center;
        }
        .pix-chave { 
            font-size: 1.4rem; color: var(--azul-pix); font-family: 'Courier New', monospace; 
            background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; 
            display: block; margin: 10px 0; font-weight: bold; border: 1px solid rgba(64,160,255,0.3);
        }
        .btn-copiar {
            background: var(--azul-pix); color: white; border: none; padding: 12px 25px; 
            border-radius: 50px; font-size: 0.9rem; font-weight: bold; cursor: pointer; transition: 0.3s;
        }

        /* BOT√ïES */
        .btn-principal { 
            background: var(--roxo-vibrante); color: white; border: none; 
            padding: 18px; border-radius: 12px; width: 100%; 
            font-size: 18px; font-weight: bold; cursor: pointer;
            box-shadow: 0 4px 15px rgba(157, 52, 218, 0.4);
        }
        .btn-principal:disabled { background: #444 !important; box-shadow: none; color: #888; }

        .btn-suporte { position: fixed; bottom: 20px; right: 20px; background: var(--verde-whats); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; justify-content: center; align-items: center; box-shadow: 0 4px 20px rgba(0,0,0,0.5); text-decoration: none; z-index: 1000; font-size: 30px; border: 2px solid white; }

        .status-loja { padding: 12px; border-radius: 10px; text-align: center; font-weight: bold; margin-bottom: 20px; font-size: 0.9rem; }
        .aberto { background: rgba(37, 211, 102, 0.15); color: #25d366; border: 1px solid #25d366; }
        .fechado { background: rgba(255, 68, 68, 0.15); color: #ff4444; border: 1px solid #ff4444; }
        
        .resumo { background: rgba(255,255,255,0.03); border: 2px solid var(--roxo-vibrante); padding: 15px; border-radius: 15px; margin-top: 25px; }
        .item-carrinho { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .btn-remover { background: transparent; color: #ff4444; border: 1px solid #ff4444; padding: 5px 10px; border-radius: 6px; cursor: pointer; font-size: 0.75rem; }

        #toast { visibility: hidden; min-width: 250px; background-color: var(--dourado); color: #000; text-align: center; border-radius: 10px; padding: 16px; position: fixed; z-index: 1001; left: 50%; bottom: 30px; transform: translateX(-50%); font-weight: bold; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        #toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }

        @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
        @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }
    </style>
</head>
<body onload="verificarHorario()">

<div id="toast">‚úÖ Item Adicionado!</div>

<a href="https://wa.me/5561995214424?text=Ol√°! Preciso de ajuda." class="btn-suporte">üí¨</a>

<header>
    <img src="acai.jpeg" alt="Logo A√ßa√≠ Mania" class="logo-img">
    <h1 style="margin:0; font-size: 1.8rem; letter-spacing: 1px;">A√ßa√≠ Mania üíú</h1>
    <span class="frase-biblica">"Tudo o que fizerem, fa√ßam de todo o cora√ß√£o."</span>
</header>

<div class="fidelidade-card">
    üé´ FIDELIDADE: Pe√ßa 10 e o 11¬∫ √© GR√ÅTIS!
</div>

<div class="container">
    <div id="statusLoja" class="status-loja">Verificando...</div>

    <div class="card-secao">
        <h2>üìç Entrega</h2>
        <input type="text" id="nome" placeholder="Seu Nome">
        <input type="tel" id="telefone" placeholder="Seu WhatsApp (61) 9...">
        
        <label>Bairro / Localidade</label>
        <select id="cidade" onchange="atualizarResumo()">
            <option value="Itapo√° Parque">Itapo√° Parque (Frete GR√ÅTIS)</option>
            <option value="Itapo√° - Del Lago">Itapo√° - Del Lago (Frete R$ 7,00)</option>
            <option value="Parano√° / Itapo√° I e II">Parano√° / Itapo√° I e II (Frete R$ 7,00)</option>
            <option value="Condom√≠nios / Capoeira">Condom√≠nios / Capoeira (Frete R$ 8,00)</option>
        </select>
        <input type="text" id="endereco" placeholder="Endere√ßo Completo">
    </div>

    <div class="card-secao">
        <h2>üí≥ Pagamento</h2>
        <select id="pagamento" onchange="togglePagamento()">
            <option value="Pix">Pix (Copia e Cola)</option>
            <option value="Cart√£o">Cart√£o (Na entrega)</option>
            <option value="Dinheiro">Dinheiro</option>
        </select>

        <div id="boxPix" class="box-pix">
            <span style="font-size:0.7rem; font-weight:bold; color:var(--azul-pix); text-transform:uppercase;">Chave Celular</span>
            <strong class="pix-chave" id="chavePixText">61995214424</strong>
            <button type="button" class="btn-copiar" onclick="copiarPix()">üìã COPIAR CHAVE PIX</button>
        </div>
        <input type="text" id="troco" placeholder="Troco para quanto?" style="display:none; margin-top:10px;">
    </div>

    <div class="card-secao">
        <h2>ü•§ Seu A√ßa√≠</h2>
        <select id="produto" onchange="atualizarTamanhos()">
            <option value="A√ßa√≠">A√ßa√≠ Puro</option>
            <option value="A√ßa√≠ com Nutella">A√ßa√≠ com Nutella</option>
            <option value="Casadinho">Casadinho (A√ßa√≠ + Cupua√ßu)</option>
            <option value="Combo Casal" data-fixo="36.00">Combo Casal (2x 400ml) ‚Äî R$ 36,00</option>
        </select>

        <div id="boxTamanho">
            <label>Tamanho Escolhido</label>
            <select id="tamanho" onchange="atualizarResumo()"></select>
        </div>

        <label>Alguma observa√ß√£o?</label>
        <textarea id="obs_item" rows="2" placeholder="Ex: Sem granola..."></textarea>

        <button id="btnAdicionar" class="btn-principal" style="margin-top:25px;" onclick="adicionarItem()">+ ADICIONAR AO PEDIDO</button>
    </div>

    <div id="resumo" class="resumo">
        <h3 style="margin-top:0; color:var(--dourado);">üõí Seu Carrinho</h3>
        <div id="listaItens"></div>
        <div id="resumoFinanceiro" style="font-weight:bold; text-align:center; margin:20px 0; font-size:1.2rem; color:white;"></div>
        <button id="btnFinalizar" class="btn-principal" style="background: var(--verde-whats); box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);" onclick="finalizarPedido()">ENVIAR NO WHATSAPP üì±</button>
    </div>
</div>

<script>
    const SCRIPT_URL = "SUA_URL_DA_PLANILHA"; 
    let carrinho = [];
    let valorTotalFinal = 0;

    function verificarHorario() {
        const agora = new Date();
        const hora = agora.getHours();
        const statusDiv = document.getElementById("statusLoja");
        if (hora >= 9 && hora < 22) {
            statusDiv.innerHTML = "üü¢ ESTAMOS ABERTOS! Fa√ßa seu pedido.";
            statusDiv.className = "status-loja aberto";
        } else {
            statusDiv.innerHTML = "üî¥ LOJA FECHADA AGORA (Abrimos 09h √†s 22h)";
            statusDiv.className = "status-loja fechado";
            document.getElementById("btnAdicionar").disabled = true;
        }
    }

    function togglePagamento() {
        const pag = document.getElementById("pagamento").value;
        document.getElementById("boxPix").style.display = (pag === "Pix") ? "block" : "none";
        document.getElementById("troco").style.display = (pag === "Dinheiro") ? "block" : "none";
    }

    function copiarPix() {
        const chave = document.getElementById("chavePixText").innerText;
        navigator.clipboard.writeText(chave).then(() => {
            const toast = document.getElementById("toast");
            toast.innerText = "‚úÖ Chave Copiada!";
            toast.className = "show";
            setTimeout(() => toast.className = "", 2000);
        });
    }

    function atualizarTamanhos() {
        const p = document.getElementById("produto").value;
        const t = document.getElementById("tamanho");
        const box = document.getElementById("boxTamanho");
        if (p.includes("Combo")) { box.style.display = "none"; return; }
        box.style.display = "block";
        t.innerHTML = `<option value="12">300 ml ‚Äî R$ 12,00</option><option value="15">400 ml ‚Äî R$ 15,00</option><option value="18">500 ml ‚Äî R$ 18,00</option>`;
    }
    atualizarTamanhos();

    function adicionarItem() {
        const selP = document.getElementById("produto");
        const prodNome = selP.options[selP.selectedIndex].text.split("‚Äî")[0].trim();
        let v = selP.value.includes("Combo") ? parseFloat(selP.options[selP.selectedIndex].getAttribute("data-fixo")) : parseFloat(document.getElementById("tamanho").value);
        const obs = document.getElementById("obs_item").value;

        carrinho.push({ p: prodNome, v: v, o: obs });
        document.getElementById("obs_item").value = "";
        
        const toast = document.getElementById("toast");
        toast.innerText = "‚úÖ Item Adicionado!";
        toast.className = "show";
        setTimeout(() => toast.className = "", 2000);

        atualizarResumo();
    }

    function atualizarResumo() {
        const resumoDiv = document.getElementById("resumo");
        if (carrinho.length === 0) { resumoDiv.style.display = "none"; return; }
        resumoDiv.style.display = "block";
        const lista = document.getElementById("listaItens");
        lista.innerHTML = "";
        let subtotal = 0;
        carrinho.forEach((i, idx) => {
            subtotal += i.v;
            lista.innerHTML += `<div class="item-carrinho">
                <span>${i.p} <br> <small style="color:var(--roxo-vibrante)">R$ ${i.v.toFixed(2)}</small></span>
                <button class="btn-remover" onclick="carrinho.splice(${idx},1); atualizarResumo();">Remover</button>
            </div>`;
        });
        const cid = document.getElementById("cidade").value;
        let frete = (cid === "Itapo√° Parque") ? 0 : (cid.includes("Condom√≠nios")) ? 8 : 7;
        valorTotalFinal = subtotal + frete;
        document.getElementById("resumoFinanceiro").innerHTML = `<span style="font-size:0.9rem; color:#aaa">Itens: R$ ${subtotal.toFixed(2)} + Frete: R$ ${frete.toFixed(2)}</span><br>TOTAL: R$ ${valorTotalFinal.toFixed(2)}`;
    }

    function finalizarPedido() {
        const nome = document.getElementById("nome").value;
        const end = document.getElementById("endereco").value;
        if(!nome || !end) return alert("Por favor, preencha os dados de entrega!");

        const id = "MANIA-" + Math.floor(1000 + Math.random() * 9000);
        const valorPlanilha = `R$ ${valorTotalFinal.toFixed(2)}`;

        let msg = `*NOVO PEDIDO ${id}* üíú\n\n*Cliente:* ${nome}\n*Endere√ßo:* ${end}\n\n*ITENS:*`;
        carrinho.forEach(i => msg += `\n- ${i.p} ${i.o ? `(Obs: ${i.o})` : ''}`);
        msg += `\n\n*TOTAL: ${valorPlanilha}*\n*Pagamento:* ${document.getElementById("pagamento").value}`;
        msg += `\n\nüé´ *VALE 1 SELO NO CART√ÉO FIDELIDADE!*`;

        fetch(SCRIPT_URL, { method: "POST", mode: "no-cors", body: JSON.stringify({ id, nome, total: valorPlanilha, pagamento: document.getElementById("pagamento").value }) });

        window.location.href = `https://wa.me/5561995214424?text=${encodeURIComponent(msg)}`;
    }
</script>
</body>
</html>
